# TepcoOutageAreaChecker Module
東京電力エリアの停電情報を取得するモジュールです。祖母の家のエリアの停電情報を常時監視する目的で開発しました。近年の夏は暑いですからね。エアコンが止まったら生命に関わります。すぐに助けに行くために監視を行います。

**本モジュールは東京電力様による公式提供物ではございません。**

[.NET ライブラリ版はこちら](https://www.nuget.org/packages/TepcoOutageSharp)


## 1. 使い方
コマンドライン引数で **エリアコード** を指定します。

``.\TepcoOutageAreaChecker.exe 12000000000``

※例は千葉県全体の停電情報を取得

出力例: 結果はエラーの場合含めて全て JSON 形式で標準出力されます

```json
{
  "Success": true,
  "ErrorMessage": null,
  "Result": {
    "Title": "\u5343\u8449\u770C",
    "AreaCode": {
      "Code": "12000000000"
    },
    "OutageCount": 220,
    "ChildAreaOutageInfos": [
      {
        "Title": "\u65ED\u5E02",
        "AreaCode": {
          "Code": "12215000000"
        },
        "OutageCount": 0,
        "ChildAreaOutageInfos": []
      },
      {
        "Title": "\u6211\u5B6B\u5B50\u5E02",
        "AreaCode": {
          "Code": "12222000000"
        },
        "OutageCount": 0,
        "ChildAreaOutageInfos": []
      }
    ]
  }
}
```


### 1 - 1. エリアコードとは
東京電力の停電情報サイトでエリアを表す内部コードです。県・市町村・区単位で分かれています。

| No | 地域名 | エリアコード | 備考 |
| - | - | - | - |
| 1 | 全域 | 00000000000 | 東電 PG 管内全体と各都府県ごとの停電件数を取得できます |
| 2 | 茨城県 | 08000000000 | 茨城県全体の停電件数と各市町村・区単位の停電件数を取得できます |
| 3 | 群馬県 | 10000000000 | 群馬県全体の停電件数と各市町村・区単位の停電件数を取得できます |
| 4 | 埼玉県 | 11000000000 | 埼玉県全体の停電件数と各市町村・区単位の停電件数を取得できます |
| 5 | 千葉県 | 12000000000 | 千葉県全体の停電件数と各市町村・区単位の停電件数を取得できます |
| 6 | 東京都 | 13000000000 | 東京都全体の停電件数と各市町村・区単位の停電件数を取得できます |
| 7 | 神奈川県 | 14000000000 | 神奈川県全体の停電件数と各市町村・区単位の停電件数を取得できます |
| 8 | 山梨県 | 19000000000 | 山梨県全体の停電件数と各市町村・区単位の停電件数を取得できます |
| 9 | 静岡県 | 22000000000 | 静岡県全体の停電件数と各市町村・区単位の停電件数を取得できます |
| 10 | 千葉県船橋市 | 12204000000 | 千葉県船橋市の停電件数と各市町村・区単位の停電件数を取得できます |
| 11 | 千葉県千葉市美浜区 | 12106000000 | 千葉県千葉市美浜区の停電件数と各市町村・区単位の停電件数を取得できます |

※いずれも各自治体のうち東京電力管轄エリアが対象

### 1 - 2. エリアコードの調べ方
ブラウザの開発者機能を利用しながら東京電力の停電情報サイトをご覧いただくことで確認できます。(説明省略)


### 1 - 3. PowerShell での利用例
千葉県の中で停電している市区町村だけを抽出する例です。

```powershell
(.\TepcoOutageAreaChecker.exe 12000000000 | ConvertFrom-Json).Result.ChildAreaOutageInfos | Where-Object { $_.OutageCount -ne 0 }
```

**出力例**
```
Title  AreaCode            OutageCount ChildAreaOutageInfos
-----  --------            ----------- --------------------
一宮町 @{Code=12421000000}           5 {}
```

※よしなに加工してください


## 2. 免責
* このモジュールは自分自身で個人利用するために開発しています。利用者サポートは行いません。
* 本モジュールの使用に関するトラブルについては一切作者は責任を負いません。
* 本モジュールに関して、**東京電力様には絶対に問い合わせないでください**。飽くまで自分自身で個人利用するために開発しています。
